<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head') %>
<body>
  <div class="container">
    

    <main class="main-content">
      <section class="login-section">
        <h1>Login</h1>
        
        <% if (messages && messages.error) { %>
          <div class="alert alert-error">
            <%= messages.error %>
          </div>
        <% } %>

        <form action="/account/login" method="post" class="login-form">
          <div class="form-group">
            <label for="account_email">Email Address</label>
            <input type="email" id="account_email" name="account_email" 
                   required
                   placeholder="example@domain.com"
                   title="Please enter your email address">
          </div>
          
          <div class="form-group password-group">
            <label for="account_password">Password</label>
            <input type="password" id="account_password" name="account_password" 
                   required
                   pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$"
                   title="Must contain at least 12 characters, including 1 uppercase, 1 lowercase, 1 number, and 1 special character">
            <button type="button" class="toggle-password" aria-label="Show password">👁️</button>
          </div>
          
          <div class="password-requirements">
            <p>Password requirements:</p>
            <ul>
              <li>At least 12 characters</li>
              <li>1 uppercase letter</li>
              <li>1 lowercase letter</li>
              <li>1 number</li>
              <li>1 special character</li>
            </ul>
          </div>
          
          <button type="submit" class="btn-primary">Login</button>
        </form>
        
        <div class="login-links">
          <a href="/account/register">Need to register?</a>
        </div>
      </section>
    </main>

   
  </div>

  <script>
    // Password toggle functionality
    document.querySelector('.toggle-password').addEventListener('click', function() {
      const passwordInput = document.getElementById('account_password');
      const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
      passwordInput.setAttribute('type', type);
      this.textContent = type === 'password' ? '👁️' : '🔒';
    });
  </script>
</body>
</html>